<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Laboratorio Algebraico</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#edf2f7;
}
.container{
  max-width:900px;
  margin:auto;
  background:white;
  padding:25px;
  border-radius:12px;
  box-shadow:0 0 15px rgba(0,0,0,.15);
}
h1,h2{text-align:center;}
.hidden{display:none;}
input,select{
  width:100%;
  padding:10px;
  margin:8px 0;
}
button{
  padding:10px 20px;
  font-size:16px;
  cursor:pointer;
}
.option{
  border:1px solid #ccc;
  padding:12px;
  margin:8px 0;
  border-radius:8px;
  cursor:pointer;
}
.option:hover{
  background:#e0ebff;
}
.timer{
  text-align:right;
  font-weight:bold;
  color:#c00000;
}
.cert{
  border:3px double black;
  padding:20px;
  margin-top:20px;
}

/* Agrega esto dentro de <style> */
.fraction { 
  display: inline-flex; 
  flex-direction: column; 
  vertical-align: middle; 
  text-align: center; 
  font-size: 0.85em; 
  margin: 0 0.2em; 
}
.fdn { 
  border-top: 1px solid black; 
  padding-top: 1px; 
}
.radical { 
  border-top: 1px solid black; 
  padding: 0 2px; 
  margin-left: -2px; 
}
</style>
</head>

<body>

<div class="container">
<h1>ğŸ§ª LABORATORIO ALGEBRAICO</h1>

<!-- REGISTRO -->
<div id="login">
  <h2>Registro del Estudiante</h2>
  <input id="school" placeholder="Centro educativo">
  <input id="studentName" placeholder="Nombre del estudiante">
  <input id="grade" placeholder="Curso / SecciÃ³n">

  <select id="unit">
    <option value="">Seleccione unidad</option>
    <option value="intro">IntroducciÃ³n al Ãlgebra</option>
    <option value="exp">Expresiones algebraicas</option>
    <option value="terms">TÃ©rmino algebraico</option>
    <option value="like">TÃ©rminos semejantes</option>
    <option value="value">Valor numÃ©rico</option>
    <option value="lang">Lenguaje algebraico</option>
    <option value="poly">Operaciones con polinomios</option>
  </select>

  <select id="level">
    <option value="">Nivel</option>
    <option value="easy">FÃ¡cil</option>
    <option value="mid">Intermedio</option>
    <option value="hard">DifÃ­cil</option>
  </select>

  <button onclick="start()">Iniciar evaluaciÃ³n</button>
</div>

<!-- EXAMEN -->
<div id="exam" class="hidden">
  <div class="timer" id="timer"></div>
  <h2 id="question"></h2>
  <div id="options"></div>
</div>

<!-- RESULTADO -->
<div id="result" class="hidden">
  <h2>ğŸ“Š REPORTE FINAL</h2>
  <p id="report"></p>

  <div class="cert">
    <h2>ğŸ“œ CERTIFICADO</h2>
    <p>Centro educativo:</p>
    <strong id="certSchool"></strong>
    <p>Se certifica que:</p>
    <h3 id="certName"></h3>
    <p>Ha completado el</p>
    <strong>LABORATORIO ALGEBRAICO</strong>
    <p>Unidad evaluada: <span id="certUnit"></span></p>
    <p>Nivel: <span id="certLevel"></span></p>
    <p>CalificaciÃ³n: <span id="certScore"></span></p>
    <p>ObservaciÃ³n: <span id="certObs"></span></p>
    <p>Fecha: <span id="certDate"></span></p>
  </div>

  <button onclick="window.print()">Imprimir / Guardar PDF</button>
</div>
</div>

<script>
// REFERENCIAS
const school = document.getElementById("school");
const studentName = document.getElementById("studentName");
const grade = document.getElementById("grade");
const unit = document.getElementById("unit");
const level = document.getElementById("level");
const login = document.getElementById("login");
const exam = document.getElementById("exam");
const result = document.getElementById("result");
const question = document.getElementById("question");
const options = document.getElementById("options");
const report = document.getElementById("report");
const certSchool = document.getElementById("certSchool");
const certName = document.getElementById("certName");
const certUnit = document.getElementById("certUnit");
const certLevel = document.getElementById("certLevel");
const certScore = document.getElementById("certScore");
const certObs = document.getElementById("certObs");
const certDate = document.getElementById("certDate");
const timerDiv = document.getElementById("timer");

// BANCO DE PREGUNTAS (TODAS LAS UNIDADES)
const bank = {
 intro:{easy:[{q:"Â¿QuÃ© estudia el Ã¡lgebra?",a:["Relaciones entre cantidades","Figuras","Medidas","Ãngulos"],c:0},{q:"Una letra representa:",a:["Un nÃºmero","Una figura","Una suma","Una resta"],c:0},{q:"x es:",a:["Variable","Constante","Resultado","OperaciÃ³n"],c:0},{q:"El Ã¡lgebra usa:",a:["Letras y nÃºmeros","Solo nÃºmeros","GrÃ¡ficos","Figuras"],c:0},{q:"Sirve para:",a:["Resolver problemas","Dibujar","Medir","Contar"],c:0}],
 mid:[{q:"Â¿CuÃ¡l es expresiÃ³n?",a:["2x+3","7","âˆš9","5=5"],c:0},{q:"Una variable puede:",a:["Cambiar","Ser fija","No variar","Ser negativa"],c:0},{q:"Contiene variable:",a:["5x","8","6","10"],c:0},{q:"NÃºmero que acompaÃ±a letra:",a:["Coeficiente","Exponente","Constante","Resultado"],c:0},{q:"x+4 es:",a:["ExpresiÃ³n","EcuaciÃ³n","Resultado","Producto"],c:0}],
 hard:[{q:"RelaciÃ³n algebraica:",a:["2x+y","7","5","âˆš16"],c:0},{q:"Una variable toma:",a:["Muchos valores","Uno","Solo positivos","Solo enteros"],c:0},{q:"NO algebraica:",a:["8","3x","x+1","2y"],c:0},{q:"Generaliza:",a:["AritmÃ©tica","GeometrÃ­a","EstadÃ­stica","LÃ³gica"],c:0},{q:"Letra representa:",a:["Cantidad desconocida","Resultado","OperaciÃ³n","Unidad"],c:0}]},

 exp:{easy:[{q:"Â¿ExpresiÃ³n?",a:["3x+2","5=2","9","âˆš4"],c:0},{q:"NO tiene:",a:["Signo igual","Variables","NÃºmeros","Operaciones"],c:0},{q:"2x es:",a:["ExpresiÃ³n","EcuaciÃ³n","Constante","Resultado"],c:0},{q:"Con letra:",a:["4y","8","6","10"],c:0},{q:"x+1 es:",a:["ExpresiÃ³n","NÃºmero","EcuaciÃ³n","Resultado"],c:0}],
 mid:[{q:"3x+5 es:",a:["ExpresiÃ³n","EcuaciÃ³n","Identidad","Constante"],c:0},{q:"NO expresiÃ³n:",a:["x=3","2x","y+1","5a"],c:0},{q:"TÃ©rmino independiente:",a:["5","x","2x","xÂ²"],c:0},{q:"NÃºmero sin letra:",a:["Constante","Variable","Coeficiente","Exponente"],c:0},{q:"TÃ©rminos en 2x+3:",a:["2","1","3","4"],c:0}],
 hard:[{q:"ExpresiÃ³n algebraica:",a:["5xÂ²+2x+1","8=8","âˆš9","10"],c:0},{q:"En 4x+7, 7 es:",a:["Constante","Variable","Coeficiente","Exponente"],c:0},{q:"2aâˆ’3b tiene:",a:["2 tÃ©rminos","1","3","4"],c:0},{q:"Se evalÃºa si:",a:["Conoces la variable","Tiene igual","Es grande","No tiene letras"],c:0},{q:"xÂ²+2x+1 es:",a:["ExpresiÃ³n","EcuaciÃ³n","Resultado","Producto"],c:0}]},

 terms:{easy:[{q:"Coeficiente en 5x:",a:["5","x","1","0"],c:0},{q:"Variable en 3yÂ²:",a:["y","3","2","yÂ²"],c:0},{q:"Un tÃ©rmino tiene:",a:["NÃºmero y letra","Solo letra","Solo nÃºmero","Igual"],c:0},{q:"x es:",a:["Variable","Constante","Coeficiente","Exponente"],c:0},{q:"5 es:",a:["Constante","Variable","TÃ©rmino","Exponente"],c:0}],
 mid:[{q:"Exponente en 4xÂ²:",a:["2","4","x","8"],c:0},{q:"Â¿TÃ©rmino?",a:["3x","x+2","5=5","âˆš4"],c:0},{q:"Coeficiente en âˆ’2y:",a:["âˆ’2","y","2","âˆ’y"],c:0},{q:"NO tiene:",a:["Suma","Letra","NÃºmero","Signo"],c:0},{q:"xÂ³ es:",a:["TÃ©rmino","NÃºmero","Constante","Figura"],c:0}],
 hard:[{q:"Coeficiente en âˆ’5xÂ²y:",a:["âˆ’5","xÂ²","y","10"],c:0},{q:"Grado de xÂ³:",a:["3","1","0","6"],c:0},{q:"TÃ©rmino compuesto:",a:["3xy","5","x+1","2=2"],c:0},{q:"Puede ser:",a:["Positivo o negativo","Solo positivo","Solo entero","Solo decimal"],c:0},{q:"Variables en 7aÂ²b:",a:["a y b","7","2","aÂ²"],c:0}]},

 like:{easy:[{q:"Semejantes:",a:["2x y 5x","2x y 2y","x y xÂ²","3y y yÂ²"],c:0},{q:"Tienen:",a:["Mismas letras","Mismo nÃºmero","Igual signo","Coeficiente"],c:0},{q:"3x y 7x:",a:["Semejantes","Diferentes","Opuestos","Nulos"],c:0},{q:"x y x:",a:["Semejantes","Diferentes","Contrarios","Inequivalentes"],c:0},{q:"5y y âˆ’2y:",a:["Semejantes","No","Constantes","Ecuaciones"],c:0}],
 mid:[{q:"Semejante a 4xÂ²:",a:["7xÂ²","4x","xÂ²y","2x"],c:0},{q:"3a y âˆ’5a:",a:["Semejantes","Diferentes","Constantes","Productos"],c:0},{q:"NO semejantes:",a:["x y y","2x y 3x","aÂ² y 5aÂ²","7y y âˆ’y"],c:0},{q:"2xy y 5xy:",a:["Semejantes","Diferentes","Contrarios","Constantes"],c:0},{q:"xÂ²y y 3xÂ²y:",a:["Semejantes","Diferentes","Opuestos","Iguales"],c:0}],
 hard:[{q:"Semejante a âˆ’3xÂ²y:",a:["5xÂ²y","3xyÂ²","xÂ²","y"],c:0},{q:"2ab y âˆ’7ab:",a:["Semejantes","Diferentes","Constantes","Nulos"],c:0},{q:"xÂ³ y xÂ²:",a:["No semejantes","Semejantes","Iguales","Contrarios"],c:0},{q:"3mÂ²n y 9mÂ²n:",a:["Semejantes","Diferentes","Opuestos","Constantes"],c:0},{q:"Para sumar deben ser:",a:["Semejantes","Iguales","Opuestos","NumÃ©ricos"],c:0}]},

 value:{easy:[{q:"x=2, x+3:",a:["5","6","4","7"],c:0},{q:"x=1, 2x:",a:["2","1","3","4"],c:0},{q:"x=3, x+1:",a:["4","3","5","6"],c:0},{q:"y=2, y+5:",a:["7","6","8","9"],c:0},{q:"x=0, 4x:",a:["0","4","1","2"],c:0}],
 mid:[{q:"x=2, 3x+1:",a:["7","6","5","8"],c:0},{q:"y=4, 2yâˆ’3:",a:["5","4","6","7"],c:0},{q:"a=3, aÂ²:",a:["9","6","3","12"],c:0},{q:"x=5, xâˆ’2:",a:["3","2","4","5"],c:0},{q:"m=1, 5m+2:",a:["7","5","3","6"],c:0}],
 hard:[{q:"x=2, xÂ²+3:",a:["7","6","5","8"],c:0},{q:"a=âˆ’1, aÂ²:",a:["1","âˆ’1","0","2"],c:0},{q:"x=3, 2xÂ²:",a:["18","12","9","6"],c:0},{q:"y=2, yÂ²+2y:",a:["8","6","4","10"],c:0},{q:"x=4, xÂ²âˆ’4:",a:["12","16","8","10"],c:0}]},

 lang:{
 easy:[
  {q:"El doble de un nÃºmero es:",a:["2x","x+2","xÂ²","x/2"],c:0},
  {q:"La suma de un nÃºmero y 5 es:",a:["x+5","5x","xâˆ’5","xÂ²"],c:0},
  {q:"Un nÃºmero aumentado en 3 es:",a:["x+3","3x","xâˆ’3","x/3"],c:0},
  {q:"El triple de un nÃºmero es:",a:["3x","x+3","xÂ²","x/3"],c:0},
  {q:"Un nÃºmero disminuido en 2 es:",a:["xâˆ’2","2x","x+2","x/2"],c:0}
 ],
 mid:[
  {q:"El doble de un nÃºmero mÃ¡s 4 es:",a:["2x+4","x+4","4x","xÂ²+4"],c:0},
  {q:"La mitad de un nÃºmero es:",a:["x/2","2x","xâˆ’2","xÂ²"],c:0},
  {q:"El cuadrado de un nÃºmero es:",a:["xÂ²","2x","x+2","x/2"],c:0},
  {q:"El triple de un nÃºmero menos 1 es:",a:["3xâˆ’1","3x+1","xâˆ’1","x+3"],c:0},
  {q:"Cinco mÃ¡s que un nÃºmero es:",a:["x+5","5x","xâˆ’5","xÂ²"],c:0}
 ],
 hard:[
  {q:"El cuadrado de un nÃºmero menos el doble es:",a:["xÂ²âˆ’2x","2xÂ²","xÂ²+2x","x(xâˆ’2)"],c:0},
  {q:"La suma de dos nÃºmeros consecutivos es:",a:["x+(x+1)","2x","xÂ²+1","x+1"],c:0},
  {q:"El triple del cuadrado de un nÃºmero es:",a:["3xÂ²","(3x)Â²","xÂ³","xÂ²+3"],c:0},
  {q:"La diferencia entre un nÃºmero y su cuadrado es:",a:["xâˆ’xÂ²","xÂ²âˆ’x","2x","xÂ²"],c:0},
  {q:"El producto de un nÃºmero por sÃ­ mismo es:",a:["xÂ·x","2x","x+1","xâˆ’1"],c:0}
 ]
},

poly:{
 easy:[
  {q:"Â¿CuÃ¡ntos tÃ©rminos tiene x^3 +5x- 7?",a:["2","1","3","4"],c:2},
  {q:"-3x + x =",a:["-2x","-2xÂ²","2x","4x"],c:0},
  {q:"2x + 3x =",a:["6x","5x", "xÂ²","3x"],c:1},
  {q:"Un polinomio es:",a:["Una ecuaciÃ³n","Un nÃºmero","Una raÃ­z", "Suma de tÃ©rminos"],c:3},
  {q:"3y âˆ’ y =",a:["2y","3y","yÂ²","0"],c:0}
 ],
 mid:[
  {q:"(5x+2)+(x+3) =",a:["6x+5","6x+1","5x+6","6xÂ²+5"],c:0},
  {q:"(-3x +6xÂ² +9)-(10xÂ² +3x +8) =",a:["13xÂ² +9x 17","16xÂ² +17","3xÂ²","-4xÂ² -6x +1"],c:3},
  {q:"Un binomio tiene:",a:["3", "2 tÃ©rminos", "1","4"],c:1},
  {q:"(x+1)(xÂ²+2x+1) =", a:["xÂ³+2xÂ²+2x+1","xÂ³+xÂ²+2x+1", "xÂ³+3xÂ²+3x+1", "xÂ³+3xÂ²+2x+1"],a:["2xÂ²","xâ´","xÂ²","xÂ³"],c:2},
  {q:"(xÂ²+3x+2) Ã· (x+1) =", a:["x+2","x+1","xÂ²+2","xâˆ’2"],c:0}
 ],
 hard:[
    {q: `(<div class="fraction"><span>1</span><span class="fdn">2</span></div>xÂ² + âˆš<span class="radical">2</span>x - 3) + (<div class="fraction"><span>3</span><span class="fdn">4</span></div>xÂ² - âˆš<span class="radical">2</span>x + 1) =`,
     a: [`<div class="fraction"><span>1</span><span class="fdn">4</span></div>xÂ² - 2`, `<div class="fraction"><span>5</span><span class="fdn">4</span></div>xÂ² - 2`, `<div class="fraction"><span>5</span><span class="fdn">4</span></div>xÂ² + 2`, `<div class="fraction"><span>1</span><span class="fdn">4</span></div>xÂ² + 2`], c: 1},
    {q: `(<div class="fraction"><span>5</span><span class="fdn">3</span></div>xÂ² - âˆš<span class="radical">3</span>x + 4) - (<div class="fraction"><span>2</span><span class="fdn">3</span></div>xÂ² + âˆš<span class="radical">3</span>x - 1) =`,
     a: ["xÂ² + 5", "3xÂ² - 2âˆš3 x", `xÂ² - 2âˆš<span class="radical">3</span>x + 5`,  "xÂ² - âˆš3 x + 3"], c: 2},
    {q: "(2xÂ³ + 5xÂ² - 3x - 6) Ã· (x + 3) =",
     a: ["2xÂ² + x - 2", "2xÂ² - 2", "xÂ² - x - 2", "2xÂ² - x - 2"], c: 3},
    {q: `(xÂ³ - <div class="fraction"><span>1</span><span class="fdn">4</span></div>xÂ² - x + <div class="fraction"><span>1</span><span class="fdn">4</span></div>) Ã· (x - <div class="fraction"><span>1</span><span class="fdn">2</span></div>) =`,
     a: [`xÂ² + <div class="fraction"><span>1</span><span class="fdn">4</span></div>`,`xÂ² - <div class="fraction"><span>1</span><span class="fdn">4</span></div>`, `xÂ²- x + <div class="fraction"><span>1</span><span class="fdn">4</span></div>`,  `xÂ²- x - <div class="fraction"><span>1</span><span class="fdn">4</span></div>`], c: 1},
    {q: `(<div class="fraction"><span>1</span><span class="fdn">2</span></div>x - âˆš<span class="radical">2</span>)(2x + âˆš<span class="radical">2</span>) =`,
     a: ["xÂ² - 2", "xÂ² + 2", `xÂ² - âˆš<span class="radical">2</span>x - 2`, "xÂ² + âˆš2 x - 2"], c: 0}
  ]
 }
};

let quiz=[],index=0,score=0,time=60,timer;

function start(){
 if(!school.value||!studentName.value||!grade.value||!unit.value||!level.value){
  alert("Complete todos los campos");
  return;
 }
 quiz=[...bank[unit.value][level.value]].sort(()=>Math.random()-0.5);
 login.classList.add("hidden");
 exam.classList.remove("hidden");
 load();
}

function load(){
 clearInterval(timer);
 time=90;
 timer=setInterval(()=>{
  timerDiv.innerHTML="â± Tiempo: "+time+" s";
  if(time--<=0) next(false);
 },1000);

 let q=quiz[index];
 question.innerHTML = (index + 1) + ". " + q.q;
 options.innerHTML="";
 q.a.map((t,i)=>({t,i})).sort(()=>Math.random()-0.5).forEach(o=>{
  let d=document.createElement("div");
  d.className="option";
  d.innerHTML = o.t;
  d.onclick=()=>next(o.i===q.c);
  options.appendChild(d);
 });
}

function next(ok){
 clearInterval(timer);
 if(ok) score++;
 index++;
 index<quiz.length?load():finish();
}

function finish(){
 exam.classList.add("hidden");
 result.classList.remove("hidden");
 let pct=Math.round(score/quiz.length*100);
 let obs=pct>=85?"Excelente dominio":pct>=70?"Buen desempeÃ±o":"Requiere refuerzo";
 report.innerHTML=`Preguntas: ${quiz.length}<br>Aciertos: ${score}<br>Nota: ${pct}%<br><strong>${obs}</strong>`;
 certSchool.innerText=school.value;
 certName.innerText=studentName.value+" ("+grade.value+")";
 certUnit.innerText=unit.options[unit.selectedIndex].text;
 certLevel.innerText=level.options[level.selectedIndex].text;
 certScore.innerText=pct+"%";
 certObs.innerText=obs;
 certDate.innerText=new Date().toLocaleDateString();
}
</script>

</body>
</html>
